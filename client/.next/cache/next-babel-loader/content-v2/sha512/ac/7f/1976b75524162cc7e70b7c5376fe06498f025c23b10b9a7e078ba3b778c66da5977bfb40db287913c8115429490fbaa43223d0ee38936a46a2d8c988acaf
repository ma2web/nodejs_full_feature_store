{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _slicedToArray from \"/home/mohammad/projects/dorreh/market multi/client/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport React from \"react\";\nimport { useRouter } from \"next/router\";\nimport axios from \"axios\";\nimport { api } from \"domains/api\";\nimport EditProduct from \"./EditProduct\";\nimport { Button } from \"@material-ui/core\";\n\nvar Product = function Product() {\n  var _product$images, _product$images2, _product$categories, _product$sizes, _product$sizes2, _product$comments, _product$comments2;\n\n  var _useRouter = useRouter(),\n      query = _useRouter.query;\n\n  var id = query.id;\n\n  var _React$useState = React.useState(null),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      product = _React$useState2[0],\n      setProduct = _React$useState2[1];\n\n  var _React$useState3 = React.useState(false),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      edit = _React$useState4[0],\n      setEdit = _React$useState4[1];\n\n  React.useEffect(function () {\n    axios.get(\"\".concat(api, \"/api/product/\").concat(id), {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"x-auth-token\": localStorage.token\n      }\n    }).then(function (res) {\n      return setProduct(res === null || res === void 0 ? void 0 : res.data);\n    })[\"catch\"](function (err) {\n      return console.log(err);\n    });\n  }, [id]);\n  return /*#__PURE__*/_jsx(\"div\", {\n    children: /*#__PURE__*/_jsx(\"div\", {\n      children: !edit ? /*#__PURE__*/_jsxs(_Fragment, {\n        children: [/*#__PURE__*/_jsx(Button, {\n          color: \"primary\",\n          onClick: function onClick() {\n            return setEdit(function (prev) {\n              return !prev;\n            });\n          },\n          variant: \"outlined\",\n          children: \"Edit Product\"\n        }), /*#__PURE__*/_jsx(\"br\", {}), /*#__PURE__*/_jsx(\"br\", {}), /*#__PURE__*/_jsx(\"h1\", {\n          children: product === null || product === void 0 ? void 0 : product.name\n        }), /*#__PURE__*/_jsx(\"br\", {}), /*#__PURE__*/_jsxs(\"div\", {\n          children: [/*#__PURE__*/_jsx(\"h3\", {\n            children: \"Price:\"\n          }), /*#__PURE__*/_jsx(\"ul\", {\n            children: /*#__PURE__*/_jsx(\"li\", {\n              children: product === null || product === void 0 ? void 0 : product.price\n            })\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          children: [/*#__PURE__*/_jsx(\"h3\", {\n            children: \"New Price:\"\n          }), /*#__PURE__*/_jsx(\"ul\", {\n            children: /*#__PURE__*/_jsx(\"li\", {\n              children: product === null || product === void 0 ? void 0 : product.discount\n            })\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          children: [/*#__PURE__*/_jsx(\"h3\", {\n            children: \"Images:\"\n          }), /*#__PURE__*/_jsx(\"ul\", {\n            children: product !== null && product !== void 0 && (_product$images = product.images) !== null && _product$images !== void 0 && _product$images.length ? product === null || product === void 0 ? void 0 : (_product$images2 = product.images) === null || _product$images2 === void 0 ? void 0 : _product$images2.map(function (el) {\n              return /*#__PURE__*/_jsx(\"li\", {\n                style: {\n                  display: \"inline-block\"\n                },\n                children: /*#__PURE__*/_jsx(\"img\", {\n                  width: 200,\n                  style: {\n                    padding: 10\n                  },\n                  src: \"\".concat(api, \"/uploads/admin/product/\").concat(id, \"/\").concat(el),\n                  alt: product === null || product === void 0 ? void 0 : product.name\n                })\n              });\n            }) : \"No Photos Added\"\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          children: [/*#__PURE__*/_jsx(\"h3\", {\n            children: \"Categories:\"\n          }), /*#__PURE__*/_jsx(\"ul\", {\n            children: product === null || product === void 0 ? void 0 : (_product$categories = product.categories) === null || _product$categories === void 0 ? void 0 : _product$categories.map(function (el) {\n              return /*#__PURE__*/_jsx(\"li\", {\n                children: el === null || el === void 0 ? void 0 : el.name\n              });\n            })\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          children: [/*#__PURE__*/_jsx(\"h3\", {\n            children: \"In Stock:\"\n          }), /*#__PURE__*/_jsx(\"ul\", {\n            children: /*#__PURE__*/_jsx(\"li\", {\n              children: product === null || product === void 0 ? void 0 : product.stock\n            })\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          children: [/*#__PURE__*/_jsx(\"h3\", {\n            children: \"Sizes:\"\n          }), /*#__PURE__*/_jsx(\"ul\", {\n            children: product !== null && product !== void 0 && (_product$sizes = product.sizes) !== null && _product$sizes !== void 0 && _product$sizes.length ? product === null || product === void 0 ? void 0 : (_product$sizes2 = product.sizes) === null || _product$sizes2 === void 0 ? void 0 : _product$sizes2.map(function (el) {\n              return /*#__PURE__*/_jsxs(\"li\", {\n                children: [el === null || el === void 0 ? void 0 : el.size, \" - \", el === null || el === void 0 ? void 0 : el.price]\n              });\n            }) : \"No Sizes Added\"\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          children: [/*#__PURE__*/_jsx(\"h3\", {\n            children: \"Reviews:\"\n          }), /*#__PURE__*/_jsx(\"ul\", {\n            children: product !== null && product !== void 0 && (_product$comments = product.comments) !== null && _product$comments !== void 0 && _product$comments.length ? product === null || product === void 0 ? void 0 : (_product$comments2 = product.comments) === null || _product$comments2 === void 0 ? void 0 : _product$comments2.map(function (el) {\n              return el === null || el === void 0 ? void 0 : el.size;\n            }) : \"No Comments Added\"\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          children: [/*#__PURE__*/_jsx(\"h3\", {\n            children: \"Created At:\"\n          }), /*#__PURE__*/_jsx(\"ul\", {\n            children: new Date(product === null || product === void 0 ? void 0 : product.createdAt).toLocaleString()\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          children: [/*#__PURE__*/_jsx(\"h3\", {\n            children: \"Last Update:\"\n          }), /*#__PURE__*/_jsx(\"ul\", {\n            children: new Date(product === null || product === void 0 ? void 0 : product.updatedAt).toLocaleString()\n          })]\n        })]\n      }) : /*#__PURE__*/_jsx(EditProduct, {\n        product: product,\n        setProduct: setProduct\n      })\n    })\n  });\n};\n\nexport default Product;","map":null,"metadata":{},"sourceType":"module"}