_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[22],{"+cZo":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/product",function(){return n("yCkV")}])},xvhg:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("8rE2");function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,c=!1,l=void 0;try{for(var r,o=e[Symbol.iterator]();!(i=(r=o.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(d){c=!0,l=d}finally{try{i||null==o.return||o.return()}finally{if(c)throw l}}return n}}(e,t)||Object(i.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},yCkV:function(e,t,n){"use strict";n.r(t);var i=n("nKUr"),c=n("xvhg"),l=n("q1tI"),r=n.n(l),o=n("20a2"),d=n("vDqi"),a=n.n(d),s=n("aFs1"),u=n("z7pX"),j=n("cpVT"),v=n("r9w1"),h=n("Z3vd"),b=n("+bXu"),O=n("13PV");function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){Object(j.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=function(e){var t,n,c,r,d,j=e.product,x=e.setProduct,f=Object(O.a)(),g=Object(l.useState)([]),m=g[0],y=g[1],w=Object(l.useState)([]),S=w[0],k=w[1],C=Object(l.useState)(""),N=C[0],_=C[1],P=Object(l.useState)(""),z=P[0],E=P[1],L=Object(l.useState)(null),X=L[0],I=L[1],D=Object(l.useState)(""),T=D[0],A=D[1],q=Object(l.useState)(null),R=q[0],V=q[1],U=Object(o.useRouter)(),W=U.query,Z=U.push;return Object(l.useEffect)((function(){a.a.get("".concat(s.a,"/api/category"),{headers:{"Content-Type":"application/json","x-auth-token":localStorage.token}}).then((function(e){return y(null===e||void 0===e?void 0:e.data)})).catch((function(e){return console.log(e)}))}),[]),Object(i.jsxs)("div",{className:f.parent,children:[Object(i.jsxs)("div",{className:f.child,children:[Object(i.jsx)("div",{children:Object(i.jsx)("h3",{children:"\u0639\u0646\u0648\u0627\u0646 \u0645\u062d\u0635\u0648\u0644"})}),Object(i.jsx)("div",{children:Object(i.jsx)(v.a,{variant:"outlined",type:"text",value:null===j||void 0===j?void 0:j.name,onChange:function(e){return x(p(p({},j),{},{name:e.target.value}))}})})]}),Object(i.jsxs)("div",{className:f.child,children:[Object(i.jsx)("div",{children:Object(i.jsx)("h3",{children:"\u062a\u0648\u0636\u06cc\u062d\u0627\u062a \u0645\u062d\u0635\u0648\u0644"})}),Object(i.jsx)("div",{children:Object(i.jsx)(v.a,{variant:"outlined",type:"text",value:null===j||void 0===j?void 0:j.description,onChange:function(e){return x(p(p({},j),{},{description:e.target.value}))}})})]}),Object(i.jsxs)("div",{className:f.child,children:[Object(i.jsx)("div",{children:Object(i.jsx)("h3",{children:"\u0642\u06cc\u0645\u062a"})}),Object(i.jsx)("div",{children:Object(i.jsx)(v.a,{variant:"outlined",type:"text",value:null===j||void 0===j?void 0:j.price,onChange:function(e){return x(p(p({},j),{},{price:parseInt(e.target.value)}))}})})]}),Object(i.jsxs)("div",{className:f.child,children:[Object(i.jsx)("div",{children:Object(i.jsx)("h3",{children:"\u0642\u06cc\u0645\u062a \u0628\u0627 \u062a\u062e\u0641\u06cc\u0641"})}),Object(i.jsx)("div",{children:Object(i.jsx)(v.a,{variant:"outlined",type:"text",value:null===j||void 0===j?void 0:j.discount,onChange:function(e){return x(p(p({},j),{},{discount:parseInt(e.target.value)}))}})})]}),Object(i.jsxs)("div",{className:f.child,children:[Object(i.jsx)("div",{children:Object(i.jsx)("h3",{children:"\u0639\u06a9\u0633 \u0647\u0627\u06cc \u0645\u062d\u0635\u0648\u0644"})}),Object(i.jsx)("div",{children:Object(i.jsx)("ul",{style:{display:"flex"},children:null!==j&&void 0!==j&&null!==(t=j.images)&&void 0!==t&&t.length?null===j||void 0===j||null===(n=j.images)||void 0===n?void 0:n.map((function(e){return Object(i.jsx)("li",{children:Object(i.jsx)("img",{style:{padding:10},width:200,src:"".concat(s.a,"/uploads/admin/product/").concat(null===j||void 0===j?void 0:j._id,"/").concat(e),alt:null===j||void 0===j?void 0:j.name})})})):"\u0639\u06a9\u0633\u06cc \u06cc\u0627\u0641\u062a \u0646\u0634\u062f"})}),Object(i.jsx)("div",{children:Object(i.jsxs)("div",{children:[Object(i.jsx)("input",{type:"file",name:"image",id:"image",onChange:function(e){V(e.target.files[0]),A(URL.createObjectURL(e.target.files[0]))}}),Object(i.jsx)("img",{src:T})]})})]}),Object(i.jsxs)("div",{className:f.child,children:[Object(i.jsx)("div",{children:Object(i.jsx)("h3",{children:"\u062f\u0633\u062a\u0647 \u0628\u0646\u062f\u06cc \u0647\u0627"})}),Object(i.jsx)("div",{children:Object(i.jsx)("ul",{children:null===j||void 0===j||null===(c=j.categories)||void 0===c?void 0:c.map((function(e){return Object(i.jsx)("li",{onClick:function(){var t,n=null===j||void 0===j||null===(t=j.categories)||void 0===t?void 0:t.filter((function(t){return(null===t||void 0===t?void 0:t.name)!==(null===e||void 0===e?void 0:e.name)}));x(p(p({},j),{},{categories:n}))},children:null===e||void 0===e?void 0:e.name})}))})}),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:Object(i.jsx)(b.a,{fullWidth:!0,options:m,getOptionLabel:function(e){return e.name},renderInput:function(e){return Object(i.jsx)(v.a,p(p({},e),{},{variant:"outlined"}))},onChange:function(e,t){if(_(t),S.includes(t._id)){var n=S.filter((function(e){return e!==t._id}));k(n)}else k([].concat(Object(u.a)(S),[t._id]))}})}),Object(i.jsx)("div",{children:Object(i.jsx)(h.a,{color:"primary",variant:"outlined",onClick:function(){return x(p(p({},j),{},{categories:[].concat(Object(u.a)(j.categories),[N])}))},children:"\u0627\u0641\u0632\u0648\u062f\u0646 \u062f\u0633\u062a\u0647 \u0628\u0646\u062f\u06cc"})})]})]}),Object(i.jsxs)("div",{className:f.child,children:[Object(i.jsx)("div",{children:Object(i.jsx)("h3",{children:"\u062a\u0639\u062f\u0627\u062f \u0645\u0648\u062c\u0648\u062f \u062f\u0631 \u0627\u0646\u0628\u0627\u0631"})}),Object(i.jsx)("div",{children:Object(i.jsx)(v.a,{variant:"outlined",type:"number",value:null===j||void 0===j?void 0:j.stock,onChange:function(e){return x(p(p({},j),{},{stock:parseInt(e.target.value)}))}})})]}),Object(i.jsxs)("div",{className:f.child,children:[Object(i.jsx)("div",{children:Object(i.jsx)("h3",{children:"\u0633\u0627\u06cc\u0632 \u0647\u0627\u06cc \u0645\u0648\u062c\u0648\u062f"})}),Object(i.jsx)("div",{children:Object(i.jsx)("ul",{children:null!==j&&void 0!==j&&null!==(r=j.sizes)&&void 0!==r&&r.length?null===j||void 0===j||null===(d=j.sizes)||void 0===d?void 0:d.map((function(e){return Object(i.jsxs)("li",{children:[null===e||void 0===e?void 0:e.size," - ",null===e||void 0===e?void 0:e.price]})})):"\u0633\u0627\u06cc\u0632\u06cc \u0627\u0636\u0627\u0641\u0647 \u0646\u0634\u062f\u0647 \u0627\u0633\u062a"})}),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:Object(i.jsx)(b.a,{fullWidth:!0,options:["XXS","XS","S","M","L","XL","XXL"],getOptionLabel:function(e){return e},renderInput:function(e){return Object(i.jsx)(v.a,p(p({},e),{},{variant:"outlined"}))},onChange:function(e,t){E(t)}})}),Object(i.jsx)("div",{children:Object(i.jsx)(v.a,{variant:"outlined",type:"text",label:"Price",onChange:function(e){return I(parseInt(e.target.value))},value:X})}),Object(i.jsx)("div",{children:Object(i.jsx)(h.a,{color:"primary",variant:"outlined",onClick:function(){x(p(p({},j),{},{sizes:[].concat(Object(u.a)(j.sizes),[{size:z,price:X}])}))},children:"\u0627\u0641\u0632\u0648\u062f\u0646 \u0633\u0627\u06cc\u0632"})})]})]}),Object(i.jsx)("div",{children:Object(i.jsx)(h.a,{fullWidth:!0,color:"primary",variant:"outlined",onClick:function(){var e,t,n=j;n.user=null===j||void 0===j||null===(e=j.user)||void 0===e?void 0:e._id,n.stock,n.inStock=!0;var i,c=null===j||void 0===j||null===(t=j.categories)||void 0===t?void 0:t.map((function(e){return j._id}));S.length>0?n.categories=[].concat(Object(u.a)(c),Object(u.a)(S)):(null===n||void 0===n||null===(i=n.categories)||void 0===i?void 0:i.length)>0?delete n.categories:n.categories=[];a.a.put("".concat(s.a,"/api/product/").concat(null===W||void 0===W?void 0:W.id),n,{headers:{"Content-Type":"application/json","x-auth-token":localStorage.token}}).then((function(e){if(R){var t=new FormData;t.append("image",R),a.a.post("".concat(s.a,"/api/product/upload/").concat(null===n||void 0===n?void 0:n._id),t,{headers:{"x-auth-token":localStorage.token}}).then((function(e){return Z("/products")})).catch((function(e){return console.log(e)}))}else Z("/products")})).catch((function(e){return console.log(e)}))},size:"large",children:"\u0628\u0631\u0648\u0632 \u0631\u0633\u0627\u0646\u06cc \u0645\u062d\u0635\u0648\u0644"})})]})},g=function(){var e,t,n,l,d,u,j,v=Object(o.useRouter)().query.id,b=Object(O.a)(),x=r.a.useState(null),p=Object(c.a)(x,2),g=p[0],m=p[1],y=r.a.useState(!1),w=Object(c.a)(y,2),S=w[0],k=w[1];return r.a.useEffect((function(){a.a.get("".concat(s.a,"/api/product/").concat(v),{headers:{"Content-Type":"application/json","x-auth-token":localStorage.token}}).then((function(e){return m(null===e||void 0===e?void 0:e.data)})).catch((function(e){return console.log(e)}))}),[v]),Object(i.jsx)("div",{className:b.product,children:Object(i.jsx)("div",{children:S?Object(i.jsx)(f,{product:g,setProduct:m}):Object(i.jsxs)("div",{children:[Object(i.jsx)(h.a,{color:"primary",onClick:function(){return k((function(e){return!e}))},variant:"outlined",children:"\u0648\u06cc\u0631\u0627\u06cc\u0634 \u0645\u062d\u0635\u0648\u0644"}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)("h1",{children:null===g||void 0===g?void 0:g.name}),Object(i.jsx)("br",{}),Object(i.jsxs)("div",{className:b.row,children:[Object(i.jsxs)("div",{className:b.col,children:[Object(i.jsxs)("div",{children:[Object(i.jsx)("h3",{children:"\u0642\u06cc\u0645\u062a"}),Object(i.jsx)("ul",{children:Object(i.jsx)("li",{children:null===g||void 0===g?void 0:g.price})})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("h3",{children:"\u0642\u06cc\u0645\u062a \u0628\u0627 \u062a\u062e\u0641\u06cc\u0641"}),Object(i.jsx)("ul",{children:Object(i.jsx)("li",{children:null===g||void 0===g?void 0:g.discount})})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("h3",{children:"\u0639\u06a9\u0633 \u0647\u0627\u06cc \u0645\u062d\u0635\u0648\u0644"}),Object(i.jsx)("ul",{style:{display:"flex"},children:null!==g&&void 0!==g&&null!==(e=g.images)&&void 0!==e&&e.length?null===g||void 0===g||null===(t=g.images)||void 0===t?void 0:t.map((function(e){return Object(i.jsx)("li",{style:{display:"inline-block"},children:Object(i.jsx)("img",{width:200,style:{padding:10},src:"".concat(s.a,"/uploads/admin/product/").concat(v,"/").concat(e),alt:null===g||void 0===g?void 0:g.name})})})):"No Photos Added"})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("h3",{children:"\u062f\u0633\u062a\u0647 \u0628\u0646\u062f\u06cc"}),Object(i.jsx)("ul",{children:null===g||void 0===g||null===(n=g.categories)||void 0===n?void 0:n.map((function(e){return Object(i.jsx)("li",{children:null===e||void 0===e?void 0:e.name})}))})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("h3",{children:"\u062a\u0639\u062f\u0627\u062f \u0645\u0648\u062c\u0648\u062f \u062f\u0631 \u0627\u0646\u0628\u0627\u0631"}),Object(i.jsx)("ul",{children:Object(i.jsx)("li",{children:null===g||void 0===g?void 0:g.stock})})]})]}),Object(i.jsxs)("div",{className:b.col,children:[Object(i.jsxs)("div",{children:[Object(i.jsx)("h3",{children:"\u0633\u0627\u06cc\u0632\u0647\u0627\u06cc \u0645\u0648\u062c\u0648\u062f"}),Object(i.jsx)("ul",{children:null!==g&&void 0!==g&&null!==(l=g.sizes)&&void 0!==l&&l.length?null===g||void 0===g||null===(d=g.sizes)||void 0===d?void 0:d.map((function(e){return Object(i.jsxs)("li",{children:[null===e||void 0===e?void 0:e.size," - ",null===e||void 0===e?void 0:e.price]})})):"\u0633\u0627\u06cc\u0632\u06cc \u0627\u0636\u0627\u0641\u0647 \u0646\u0634\u062f\u0647 \u0627\u0633\u062a"})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("h3",{children:"\u062a\u0639\u062f\u0627\u062f \u062f\u06cc\u062f\u06af\u0627\u0647 \u0647\u0627"}),Object(i.jsx)("ul",{children:Object(i.jsx)("li",{children:null!==g&&void 0!==g&&null!==(u=g.comments)&&void 0!==u&&u.length?null===g||void 0===g||null===(j=g.comments)||void 0===j?void 0:j.map((function(e){return null===e||void 0===e?void 0:e.size})):"\u0628\u062f\u0648\u0646 \u062f\u06cc\u062f\u06af\u0627\u0647"})})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("h3",{children:"\u062a\u0627\u0631\u06cc\u062e \u0628\u0627\u0631\u06af\u0632\u0627\u0631\u06cc"}),Object(i.jsx)("ul",{children:new Date(null===g||void 0===g?void 0:g.createdAt).toLocaleString()})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("h3",{children:"\u062a\u0627\u0631\u06cc\u062e \u0622\u062e\u0631\u06cc\u0646 \u0628\u0631\u0648\u0632\u0631\u0633\u0627\u0646\u06cc"}),Object(i.jsx)("ul",{children:new Date(null===g||void 0===g?void 0:g.updatedAt).toLocaleString()})]})]})]})]})})})},m=function(){return Object(i.jsx)(g,{})};m.Layout=!0;t.default=m}},[["+cZo",0,1,2,5,4,3,7,13]]]);