{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _defineProperty from \"/home/mohammad/projects/dorreh/market multi/client/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nvar _jsxFileName = \"/home/mohammad/projects/dorreh/market multi/client/src/domains/Orders/components/ChangeStatus.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useEffect, useState } from \"react\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport axios from \"axios\";\nimport { api } from \"domains/api\";\n\nvar ChangeStatus = function ChangeStatus(_ref) {\n  _s();\n\n  var status = _ref.status,\n      setOrder = _ref.setOrder,\n      order = _ref.order,\n      setOrders = _ref.setOrders,\n      setChangeStatus = _ref.setChangeStatus;\n\n  var _useState = useState(null),\n      value = _useState[0],\n      setValue = _useState[1]; // pending proccessing shipped delivered cancelled\n\n\n  console.log(order);\n  useEffect(function () {\n    return setValue(status);\n  }, [status]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      width: 200\n    },\n    children: /*#__PURE__*/_jsxDEV(FormControl, {\n      children: /*#__PURE__*/_jsxDEV(Select, {\n        labelId: \"demo-simple-select-label\",\n        id: \"demo-simple-select\",\n        value: value,\n        onChange: function onChange(e) {\n          setValue(e.target.value);\n          setOrder(_objectSpread(_objectSpread({}, order), {}, {\n            status: e.target.value\n          }));\n          var data = order;\n          data.status = e.target.value;\n          axios.put(\"\".concat(api, \"/api/order/\").concat(order === null || order === void 0 ? void 0 : order._id), {\n            status: e.target.value\n          }, {\n            headers: {\n              \"x-auth-token\": localStorage.token\n            }\n          }).then(function (res) {\n            if ((res === null || res === void 0 ? void 0 : res.status) === 200) {\n              axios.get(\"\".concat(api, \"/api/order\"), {\n                headers: {\n                  \"x-auth-token\": localStorage.token\n                }\n              }).then(function (res) {\n                setChangeStatus(false);\n                setOrders(res === null || res === void 0 ? void 0 : res.data);\n              });\n            }\n          })[\"catch\"](function (err) {\n            return console.log(err);\n          });\n        },\n        variant: \"outlined\",\n        children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n          value: \"pending\",\n          children: \"pending\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(MenuItem, {\n          value: \"proccessing\",\n          children: \"proccessing\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(MenuItem, {\n          value: \"shipped\",\n          children: \"shipped\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(MenuItem, {\n          value: \"delivered\",\n          children: \"delivered\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(MenuItem, {\n          value: \"cancelled\",\n          children: \"cancelled\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 7\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(ChangeStatus, \"QNA6AqGJKsyY0NGOv8Nup0fReMk=\");\n\n_c = ChangeStatus;\nexport default ChangeStatus;\n\nvar _c;\n\n$RefreshReg$(_c, \"ChangeStatus\");","map":{"version":3,"sources":["/home/mohammad/projects/dorreh/market multi/client/src/domains/Orders/components/ChangeStatus.tsx"],"names":["React","useEffect","useState","MenuItem","FormControl","Select","axios","api","ChangeStatus","status","setOrder","order","setOrders","setChangeStatus","value","setValue","console","log","width","e","target","data","put","_id","headers","localStorage","token","then","res","get","err"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport axios from \"axios\";\nimport { api } from \"domains/api\";\n\nconst ChangeStatus = ({\n  status,\n  setOrder,\n  order,\n  setOrders,\n  setChangeStatus,\n}) => {\n  const [value, setValue] = useState(null);\n  // pending proccessing shipped delivered cancelled\n\n  console.log(order);\n\n  useEffect(() => setValue(status), [status]);\n  return (\n    <div style={{ width: 200 }}>\n      <FormControl>\n        <Select\n          labelId=\"demo-simple-select-label\"\n          id=\"demo-simple-select\"\n          value={value}\n          onChange={(e) => {\n            setValue(e.target.value);\n            setOrder({\n              ...order,\n              status: e.target.value,\n            });\n            let data = order;\n\n            data.status = e.target.value;\n\n            axios\n              .put(\n                `${api}/api/order/${order?._id}`,\n                { status: e.target.value },\n                {\n                  headers: {\n                    \"x-auth-token\": localStorage.token,\n                  },\n                }\n              )\n              .then((res) => {\n                if (res?.status === 200) {\n                  axios\n                    .get(`${api}/api/order`, {\n                      headers: {\n                        \"x-auth-token\": localStorage.token,\n                      },\n                    })\n                    .then((res) => {\n                      setChangeStatus(false);\n                      setOrders(res?.data);\n                    });\n                }\n              })\n              .catch((err) => console.log(err));\n          }}\n          variant=\"outlined\"\n        >\n          <MenuItem value=\"pending\">pending</MenuItem>\n          <MenuItem value=\"proccessing\">proccessing</MenuItem>\n          <MenuItem value=\"shipped\">shipped</MenuItem>\n          <MenuItem value=\"delivered\">delivered</MenuItem>\n          <MenuItem value=\"cancelled\">cancelled</MenuItem>\n        </Select>\n      </FormControl>\n    </div>\n  );\n};\n\nexport default ChangeStatus;\n"]},"metadata":{},"sourceType":"module"}