{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/mohammad/projects/dorreh/market multi/client/src/domains/Orders/components/ChangeStatus.tsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useEffect, useState } from \"react\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport axios from \"axios\";\nimport { api } from \"domains/api\";\n\nconst ChangeStatus = ({\n  status,\n  setOrder,\n  order,\n  setOrders,\n  setChangeStatus\n}) => {\n  const {\n    0: value,\n    1: setValue\n  } = useState(null); // pending proccessing shipped delivered cancelled\n\n  useEffect(() => setValue(status), [status]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      width: 200\n    },\n    children: /*#__PURE__*/_jsxDEV(FormControl, {\n      children: /*#__PURE__*/_jsxDEV(Select, {\n        labelId: \"demo-simple-select-label\",\n        id: \"demo-simple-select\",\n        value: value,\n        onChange: e => {\n          setValue(e.target.value);\n          setOrder(_objectSpread(_objectSpread({}, order), {}, {\n            status: e.target.value\n          }));\n          let data = order;\n          data.status = e.target.value;\n          axios.put(`${api}/api/order/${order === null || order === void 0 ? void 0 : order._id}`, {\n            status: e.target.value\n          }, {\n            headers: {\n              \"x-auth-token\": localStorage.token\n            }\n          }).then(res => {\n            if ((res === null || res === void 0 ? void 0 : res.status) === 200) {\n              axios.get(`${api}/api/order`, {\n                headers: {\n                  \"x-auth-token\": localStorage.token\n                }\n              }).then(res => {\n                setChangeStatus(false);\n                setOrders(res === null || res === void 0 ? void 0 : res.data);\n              }).catch(err => console.log(err));\n            }\n          });\n        },\n        variant: \"outlined\",\n        children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n          value: \"pending\",\n          children: \"pending\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n          value: \"proccessing\",\n          children: \"proccessing\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n          value: \"shipped\",\n          children: \"shipped\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n          value: \"delivered\",\n          children: \"delivered\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n          value: \"cancelled\",\n          children: \"cancelled\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 5\n  }, this);\n};\n\nexport default ChangeStatus;","map":{"version":3,"sources":["/home/mohammad/projects/dorreh/market multi/client/src/domains/Orders/components/ChangeStatus.tsx"],"names":["React","useEffect","useState","MenuItem","FormControl","Select","axios","api","ChangeStatus","status","setOrder","order","setOrders","setChangeStatus","value","setValue","width","e","target","data","put","_id","headers","localStorage","token","then","res","get","catch","err","console","log"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport axios from \"axios\";\nimport { api } from \"domains/api\";\n\nconst ChangeStatus = ({\n  status,\n  setOrder,\n  order,\n  setOrders,\n  setChangeStatus,\n}) => {\n  const [value, setValue] = useState(null);\n  // pending proccessing shipped delivered cancelled\n\n  useEffect(() => setValue(status), [status]);\n  return (\n    <div style={{ width: 200 }}>\n      <FormControl>\n        <Select\n          labelId=\"demo-simple-select-label\"\n          id=\"demo-simple-select\"\n          value={value}\n          onChange={(e) => {\n            setValue(e.target.value);\n            setOrder({\n              ...order,\n              status: e.target.value,\n            });\n            let data = order;\n\n            data.status = e.target.value;\n\n            axios\n              .put(\n                `${api}/api/order/${order?._id}`,\n                { status: e.target.value },\n                {\n                  headers: {\n                    \"x-auth-token\": localStorage.token,\n                  },\n                }\n              )\n              .then((res) => {\n                if (res?.status === 200) {\n                  axios\n                    .get(`${api}/api/order`, {\n                      headers: {\n                        \"x-auth-token\": localStorage.token,\n                      },\n                    })\n                    .then((res) => {\n                      setChangeStatus(false);\n                      setOrders(res?.data);\n                    })\n                    .catch((err) => console.log(err));\n                }\n              });\n          }}\n          variant=\"outlined\"\n        >\n          <MenuItem value=\"pending\">pending</MenuItem>\n          <MenuItem value=\"proccessing\">proccessing</MenuItem>\n          <MenuItem value=\"shipped\">shipped</MenuItem>\n          <MenuItem value=\"delivered\">delivered</MenuItem>\n          <MenuItem value=\"cancelled\">cancelled</MenuItem>\n        </Select>\n      </FormControl>\n    </div>\n  );\n};\n\nexport default ChangeStatus;\n"]},"metadata":{},"sourceType":"module"}