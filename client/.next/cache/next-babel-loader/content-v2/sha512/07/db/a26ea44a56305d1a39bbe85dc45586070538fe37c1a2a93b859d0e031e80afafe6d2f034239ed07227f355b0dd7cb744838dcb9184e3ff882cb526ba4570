{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/mohammad/projects/dorreh/market multi/client/src/layout/CI/LanguageSelector/LanguageSelector.tsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useEffect, useState } from \"react\";\nimport { useRouter } from \"next/router\";\nimport { IconButton, TextField } from \"@material-ui/core\"; // import { SurButton, SurIconButton, SurPopOver } from '@sur-ui/core'\n\nimport useStyle from \"./LanguageSelector.styles\";\nimport { useGetLocalesQuery } from \"providers/LanguageProvider/gql/query.generated\";\nimport { useChangeDirection } from \"theme/GolThemeProvider\";\nimport { Autocomplete } from \"@material-ui/lab\";\nimport { ReactComponent as FA } from \"assets/images/icons/Flag/FA.svg\";\nimport { ReactComponent as EN } from \"assets/images/icons/Flag/EN.svg\";\nexport const LanguageSelector = () => {\n  const classes = useStyle();\n  const {\n    0: anchorEl,\n    1: setAnchorEl\n  } = useState(null);\n  const {\n    locale,\n    asPath,\n    push\n  } = useRouter();\n  const setDirection = useChangeDirection(); // const context = useContext(Context)\n\n  const {\n    data,\n    loading\n  } = useGetLocalesQuery({\n    variables: {\n      slug: locale\n    }\n  });\n  const {\n    0: icon,\n    1: setIcon\n  } = useState(locale === \"en-US\" ? /*#__PURE__*/_jsxDEV(EN, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 57\n  }, this) : /*#__PURE__*/_jsxDEV(FA, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 66\n  }, this));\n  const {\n    0: title,\n    1: setTitle\n  } = useState(locale === \"en-US\" ? \"EN-English\" : \"FA-Persian\");\n  useEffect(() => {\n    if (locale === \"en-US\") {\n      setDirection(\"ltr\");\n    } else {\n      setDirection(\"rtl\");\n    }\n  }, [locale]);\n  const options = locale === \"en-US\" ? [{\n    title: \"FA-Persian\",\n    icon: /*#__PURE__*/_jsxDEV(FA, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 39\n    }, this),\n    value: \"rtl\"\n  }] : [{\n    title: \"EN-English\",\n    icon: /*#__PURE__*/_jsxDEV(EN, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 39\n    }, this),\n    value: \"ltr\"\n  }];\n\n  const handleClick = item => {\n    if (item === \"fa-IR\") {\n      setDirection(\"rtl\");\n    } else {\n      setDirection(\"ltr\");\n    }\n\n    push(asPath, undefined, {\n      locale: item,\n      shallow: false\n    });\n    setAnchorEl(null);\n  };\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      \"aria-hidden\": true,\n      style: {\n        width: 46,\n        visibility: \"hidden\"\n      },\n      children: \"loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.root,\n    children: /*#__PURE__*/_jsxDEV(Autocomplete, {\n      options: options,\n      getOptionLabel: option => option.title,\n      getOptionSelected: (option, value) => option.value === value.value,\n      disableClearable: true,\n      renderInput: params => /*#__PURE__*/_jsxDEV(TextField, _objectSpread(_objectSpread({}, params), {}, {\n        label: \"\",\n        variant: \"outlined\",\n        InputProps: _objectSpread(_objectSpread({}, params.InputProps), {}, {\n          startAdornment: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: \"flex\",\n              alignItems: \"center\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                margin: \"0 3px\"\n              },\n              children: icon\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 17\n          }, this)\n        })\n      }), void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }, this),\n      renderOption: option => {\n        return /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(IconButton, {\n            color: \"primary\",\n            children: option.icon\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 15\n          }, this), option.title]\n        }, void 0, true);\n      },\n      onChange: (e, data) => {\n        // console.log(data);\n        if (data !== null) {\n          setIcon(data.icon);\n          setTitle(data.title);\n          let lang = data.title === \"FA-Persian\" ? \"fa-IR\" : \"en-US\";\n          handleClick(lang);\n        } else {\n          setIcon(null);\n          setTitle(null);\n          handleClick(null);\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n};\nLanguageSelector.displayName = \"LanguageSelector\";\nexport default LanguageSelector;","map":{"version":3,"sources":["/home/mohammad/projects/dorreh/market multi/client/src/layout/CI/LanguageSelector/LanguageSelector.tsx"],"names":["React","useEffect","useState","useRouter","IconButton","TextField","useStyle","useGetLocalesQuery","useChangeDirection","Autocomplete","ReactComponent","FA","EN","LanguageSelector","classes","anchorEl","setAnchorEl","locale","asPath","push","setDirection","data","loading","variables","slug","icon","setIcon","title","setTitle","options","value","handleClick","item","undefined","shallow","width","visibility","root","option","params","InputProps","startAdornment","display","alignItems","margin","e","lang","displayName"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Image from \"next/image\";\nimport { useRouter } from \"next/router\";\nimport { IconButton, TextField, Typography } from \"@material-ui/core\";\n// import { SurButton, SurIconButton, SurPopOver } from '@sur-ui/core'\nimport { path } from \"ramda\";\nimport useStyle from \"./LanguageSelector.styles\";\nimport { useGetLocalesQuery } from \"providers/LanguageProvider/gql/query.generated\";\nimport { useChangeDirection } from \"theme/GolThemeProvider\";\nimport { Autocomplete } from \"@material-ui/lab\";\nimport { ReactComponent as FA } from \"assets/images/icons/Flag/FA.svg\";\nimport { ReactComponent as EN } from \"assets/images/icons/Flag/EN.svg\";\n\nexport const LanguageSelector: React.FC = () => {\n  const classes = useStyle();\n  const [anchorEl, setAnchorEl] = useState<HTMLButtonElement | null>(null);\n  const { locale, asPath, push } = useRouter();\n\n  const setDirection = useChangeDirection();\n  // const context = useContext(Context)\n\n  const { data, loading } = useGetLocalesQuery({ variables: { slug: locale } });\n  const [icon, setIcon] = useState(locale === \"en-US\" ? <EN /> : <FA />);\n  const [title, setTitle] = useState(\n    locale === \"en-US\" ? \"EN-English\" : \"FA-Persian\"\n  );\n\n  useEffect(() => {\n    if (locale === \"en-US\") {\n      setDirection(\"ltr\");\n    } else {\n      setDirection(\"rtl\");\n    }\n  }, [locale]);\n\n  const options =\n    locale === \"en-US\"\n      ? [{ title: \"FA-Persian\", icon: <FA />, value: \"rtl\" }]\n      : [{ title: \"EN-English\", icon: <EN />, value: \"ltr\" }];\n\n  const handleClick = (item: string) => {\n    if (item === \"fa-IR\") {\n      setDirection(\"rtl\");\n    } else {\n      setDirection(\"ltr\");\n    }\n\n    push(asPath, undefined, { locale: item, shallow: false });\n    setAnchorEl(null);\n  };\n\n  if (loading) {\n    return (\n      <div aria-hidden style={{ width: 46, visibility: \"hidden\" }}>\n        loading...\n      </div>\n    );\n  }\n\n  return (\n    <div className={classes.root}>\n      <Autocomplete\n        options={options}\n        getOptionLabel={(option) => option.title}\n        getOptionSelected={(option, value) => option.value === value.value}\n        disableClearable\n        renderInput={(params) => (\n          <TextField\n            {...params}\n            label=\"\"\n            variant=\"outlined\"\n            InputProps={{\n              ...params.InputProps,\n              startAdornment: (\n                <div style={{ display: \"flex\", alignItems: \"center\" }}>\n                  <div style={{ margin: \"0 3px\" }}>{icon}</div>\n                  <div>{title}</div>\n                </div>\n              ),\n            }}\n          />\n        )}\n        renderOption={(option) => {\n          return (\n            <>\n              <IconButton color=\"primary\">{option.icon}</IconButton>\n              {option.title}\n            </>\n          );\n        }}\n        onChange={(e, data: any) => {\n          // console.log(data);\n          if (data !== null) {\n            setIcon(data.icon);\n            setTitle(data.title);\n\n            let lang = data.title === \"FA-Persian\" ? \"fa-IR\" : \"en-US\";\n            handleClick(lang);\n          } else {\n            setIcon(null);\n            setTitle(null);\n\n            handleClick(null);\n          }\n        }}\n      />\n    </div>\n  );\n};\n\nLanguageSelector.displayName = \"LanguageSelector\";\nexport default LanguageSelector;\n"]},"metadata":{},"sourceType":"module"}