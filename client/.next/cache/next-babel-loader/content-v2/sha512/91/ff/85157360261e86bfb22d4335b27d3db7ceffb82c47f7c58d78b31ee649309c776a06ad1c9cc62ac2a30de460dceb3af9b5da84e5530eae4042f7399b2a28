{"ast":null,"code":"import _toConsumableArray from \"/home/mohammad/projects/dorreh/market multi/client/node_modules/next/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"/home/mohammad/projects/dorreh/market multi/client/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/mohammad/projects/dorreh/market multi/client/src/domains/Products/components/AddProduct.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { Button, TextField } from \"@material-ui/core\";\nimport { Autocomplete } from \"@material-ui/lab\";\nimport axios from \"axios\";\nimport { api } from \"domains/api\";\nimport { useRouter } from \"next/router\";\nimport React, { useEffect, useState } from \"react\";\nimport useProductsStyle from \"../useProductsStyles\";\n\nvar AddProduct = function AddProduct() {\n  _s();\n\n  var _product$images, _product$images2, _product$categories, _product$sizes, _product$sizes2;\n\n  var _useState = useState({\n    name: \"\",\n    description: \"\",\n    price: null,\n    discount: null,\n    images: [],\n    stock: null,\n    inStock: false,\n    categories: [],\n    sizes: []\n  }),\n      product = _useState[0],\n      setProduct = _useState[1];\n\n  var _useState2 = useState([]),\n      categories = _useState2[0],\n      setCategories = _useState2[1];\n\n  var _useState3 = useState([]),\n      sCategories = _useState3[0],\n      setSCategories = _useState3[1];\n\n  var _useState4 = useState(\"\"),\n      category = _useState4[0],\n      setCategory = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      size = _useState5[0],\n      setSize = _useState5[1];\n\n  var _useState6 = useState(null),\n      sizePrice = _useState6[0],\n      setSizePrice = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      file = _useState7[0],\n      setFile = _useState7[1];\n\n  var _useState8 = useState(null),\n      imageFileName = _useState8[0],\n      setImageFileName = _useState8[1];\n\n  var _useRouter = useRouter(),\n      push = _useRouter.push;\n\n  var classes = useProductsStyle();\n  useEffect(function () {\n    axios.get(\"\".concat(api, \"/api/category\"), {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"x-auth-token\": localStorage.token\n      }\n    }).then(function (res) {\n      return setCategories(res === null || res === void 0 ? void 0 : res.data);\n    })[\"catch\"](function (err) {\n      return console.log(err);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"flex\",\n      flexWrap: \"wrap\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.child,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(TextField, {\n          variant: \"outlined\",\n          type: \"text\",\n          value: product === null || product === void 0 ? void 0 : product.name,\n          onChange: function onChange(e) {\n            return setProduct(_objectSpread(_objectSpread({}, product), {}, {\n              name: e.target.value\n            }));\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.child,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Description\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(TextField, {\n          variant: \"outlined\",\n          type: \"text\",\n          value: product === null || product === void 0 ? void 0 : product.description,\n          onChange: function onChange(e) {\n            return setProduct(_objectSpread(_objectSpread({}, product), {}, {\n              description: e.target.value\n            }));\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.child,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Price\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(TextField, {\n          variant: \"outlined\",\n          type: \"text\",\n          value: product === null || product === void 0 ? void 0 : product.price,\n          onChange: function onChange(e) {\n            return setProduct(_objectSpread(_objectSpread({}, product), {}, {\n              price: parseInt(e.target.value)\n            }));\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.child,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"New Price\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(TextField, {\n          variant: \"outlined\",\n          type: \"text\",\n          value: product === null || product === void 0 ? void 0 : product.discount,\n          onChange: function onChange(e) {\n            return setProduct(_objectSpread(_objectSpread({}, product), {}, {\n              discount: parseInt(e.target.value)\n            }));\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.child,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Product Images\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: product !== null && product !== void 0 && (_product$images = product.images) !== null && _product$images !== void 0 && _product$images.length ? product === null || product === void 0 ? void 0 : (_product$images2 = product.images) === null || _product$images2 === void 0 ? void 0 : _product$images2.map(function (el) {\n            return /*#__PURE__*/_jsxDEV(\"li\", {\n              style: {\n                display: \"inline-block\"\n              },\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                style: {\n                  padding: 10\n                },\n                width: 200 // src={`${api}/uploads/admin/product/${product?._id}/${el}`}\n                ,\n                alt: product === null || product === void 0 ? void 0 : product.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 117,\n                columnNumber: 21\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 19\n            }, _this);\n          }) : \"No Photos Added\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            name: \"image\",\n            id: \"image\",\n            onChange: function onChange(e) {\n              setImageFileName(e.target.files[0]);\n              setFile(URL.createObjectURL(e.target.files[0]));\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: file\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 13\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.child,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Categories\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: product === null || product === void 0 ? void 0 : (_product$categories = product.categories) === null || _product$categories === void 0 ? void 0 : _product$categories.map(function (el) {\n            return /*#__PURE__*/_jsxDEV(\"li\", {\n              children: el === null || el === void 0 ? void 0 : el.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 15\n            }, _this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Autocomplete, {\n            fullWidth: true,\n            options: categories,\n            getOptionLabel: function getOptionLabel(option) {\n              return option.name;\n            },\n            renderInput: function renderInput(params) {\n              return /*#__PURE__*/_jsxDEV(TextField, _objectSpread(_objectSpread({}, params), {}, {\n                variant: \"outlined\"\n              }), void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 17\n              }, _this);\n            },\n            onChange: function onChange(e, data) {\n              setCategory(data);\n\n              if (sCategories.includes(data._id)) {\n                var newC = sCategories.filter(function (sc) {\n                  return sc !== data._id;\n                });\n                setSCategories(newC);\n              } else {\n                setSCategories([].concat(_toConsumableArray(sCategories), [data._id]));\n              }\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            color: \"primary\",\n            variant: \"outlined\",\n            onClick: function onClick() {\n              return setProduct(_objectSpread(_objectSpread({}, product), {}, {\n                categories: [].concat(_toConsumableArray(product.categories), [category])\n              }));\n            },\n            children: \"Add\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.child,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"In Stock:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(TextField, {\n          variant: \"outlined\",\n          type: \"number\",\n          value: product === null || product === void 0 ? void 0 : product.stock,\n          onChange: function onChange(e) {\n            return setProduct(_objectSpread(_objectSpread({}, product), {}, {\n              stock: parseInt(e.target.value)\n            }));\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.child,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Sizes:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: product !== null && product !== void 0 && (_product$sizes = product.sizes) !== null && _product$sizes !== void 0 && _product$sizes.length ? product === null || product === void 0 ? void 0 : (_product$sizes2 = product.sizes) === null || _product$sizes2 === void 0 ? void 0 : _product$sizes2.map(function (el) {\n            return /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [el === null || el === void 0 ? void 0 : el.size, \" - \", el === null || el === void 0 ? void 0 : el.price]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 19\n            }, _this);\n          }) : \"No Sizes Added\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Autocomplete, {\n            fullWidth: true,\n            options: [\"XXS\", \"XS\", \"S\", \"M\", \"L\", \"XL\", \"XXL\"],\n            getOptionLabel: function getOptionLabel(option) {\n              return option;\n            },\n            renderInput: function renderInput(params) {\n              return /*#__PURE__*/_jsxDEV(TextField, _objectSpread(_objectSpread({}, params), {}, {\n                variant: \"outlined\"\n              }), void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 17\n              }, _this);\n            },\n            onChange: function onChange(e, data) {\n              setSize(data);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            variant: \"outlined\",\n            type: \"text\",\n            label: \"Price\",\n            onChange: function onChange(e) {\n              return setSizePrice(parseInt(e.target.value));\n            },\n            value: sizePrice\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            color: \"primary\",\n            variant: \"outlined\",\n            onClick: function onClick() {\n              setProduct(_objectSpread(_objectSpread({}, product), {}, {\n                sizes: [].concat(_toConsumableArray(product.sizes), [{\n                  size: size,\n                  price: sizePrice\n                }])\n              }));\n            },\n            children: \"Add\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.child,\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        fullWidth: true,\n        color: \"primary\",\n        variant: \"outlined\",\n        onClick: function onClick() {\n          var data = product;\n\n          if (data.stock > 0) {\n            data.inStock = true;\n          } else {\n            data.inStock = true;\n          }\n\n          data.categories = sCategories;\n          axios.post(\"\".concat(api, \"/api/product\"), data, {\n            headers: {\n              \"Content-Type\": \"application/json\",\n              \"x-auth-token\": localStorage.token\n            }\n          }).then(function (res) {\n            if (res !== null && res !== void 0 && res.data) {\n              var _res$data;\n\n              var formdata = new FormData();\n              formdata.append(\"image\", imageFileName);\n              axios.post(\"\".concat(api, \"/api/product/upload/\").concat(res === null || res === void 0 ? void 0 : (_res$data = res.data) === null || _res$data === void 0 ? void 0 : _res$data._id), formdata, {\n                headers: {\n                  \"x-auth-token\": localStorage.token\n                }\n              }).then(function (res) {\n                return push(\"/products\");\n              });\n            }\n          })[\"catch\"](function (err) {\n            return console.log(err);\n          });\n        },\n        size: \"large\",\n        children: \"Create Product\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 7\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(AddProduct, \"yNpHNF1yJRdLNtt+SuQVwgugULM=\", false, function () {\n  return [useRouter, useProductsStyle];\n});\n\n_c = AddProduct;\nexport default AddProduct;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddProduct\");","map":{"version":3,"sources":["/home/mohammad/projects/dorreh/market multi/client/src/domains/Products/components/AddProduct.tsx"],"names":["Button","TextField","Autocomplete","axios","api","useRouter","React","useEffect","useState","useProductsStyle","AddProduct","name","description","price","discount","images","stock","inStock","categories","sizes","product","setProduct","setCategories","sCategories","setSCategories","category","setCategory","size","setSize","sizePrice","setSizePrice","file","setFile","imageFileName","setImageFileName","push","classes","get","headers","localStorage","token","then","res","data","err","console","log","display","flexWrap","child","e","target","value","parseInt","length","map","el","padding","files","URL","createObjectURL","option","params","includes","_id","newC","filter","sc","post","formdata","FormData","append"],"mappings":"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","sourcesContent":["import { Button, FormHelperText, TextField } from \"@material-ui/core\";\nimport { Autocomplete } from \"@material-ui/lab\";\nimport axios from \"axios\";\nimport { api } from \"domains/api\";\nimport { useRouter } from \"next/router\";\nimport React, { useEffect, useState } from \"react\";\nimport useProductsStyle from \"../useProductsStyles\";\n\nconst AddProduct = () => {\n  const [product, setProduct] = useState({\n    name: \"\",\n    description: \"\",\n    price: null,\n    discount: null,\n    images: [],\n    stock: null,\n    inStock: false,\n    categories: [],\n    sizes: [],\n  });\n  const [categories, setCategories] = useState([]);\n  const [sCategories, setSCategories] = useState([]);\n  const [category, setCategory] = useState(\"\");\n  const [size, setSize] = useState(\"\");\n  const [sizePrice, setSizePrice] = useState(null);\n  const [file, setFile] = useState(\"\");\n  const [imageFileName, setImageFileName] = useState(null);\n\n  let { push } = useRouter();\n  const classes = useProductsStyle();\n\n  useEffect(() => {\n    axios\n      .get(`${api}/api/category`, {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"x-auth-token\": localStorage.token,\n        },\n      })\n      .then((res) => setCategories(res?.data))\n      .catch((err) => console.log(err));\n  }, []);\n\n  return (\n    <div style={{ display: \"flex\", flexWrap: \"wrap\" }}>\n      <div className={classes.child}>\n        <div>\n          <h3>Name</h3>\n        </div>\n        <div>\n          <TextField\n            variant=\"outlined\"\n            type=\"text\"\n            value={product?.name}\n            onChange={(e) => setProduct({ ...product, name: e.target.value })}\n          />\n        </div>\n      </div>\n      <br />\n      <div className={classes.child}>\n        <div>\n          <h3>Description</h3>\n        </div>\n        <div>\n          <TextField\n            variant=\"outlined\"\n            type=\"text\"\n            value={product?.description}\n            onChange={(e) =>\n              setProduct({ ...product, description: e.target.value })\n            }\n          />\n        </div>\n      </div>\n      <br />\n      <div className={classes.child}>\n        <div>\n          <h3>Price</h3>\n        </div>\n        <div>\n          <TextField\n            variant=\"outlined\"\n            type=\"text\"\n            value={product?.price}\n            onChange={(e) =>\n              setProduct({ ...product, price: parseInt(e.target.value) })\n            }\n          />\n        </div>\n      </div>\n      <br />\n      <div className={classes.child}>\n        <div>\n          <h3>New Price</h3>\n        </div>\n        <div>\n          <TextField\n            variant=\"outlined\"\n            type=\"text\"\n            value={product?.discount}\n            onChange={(e) =>\n              setProduct({ ...product, discount: parseInt(e.target.value) })\n            }\n          />\n        </div>\n      </div>\n      <br />\n      <div className={classes.child}>\n        <div>\n          <h3>Product Images</h3>\n        </div>\n        <div>\n          <ul>\n            {product?.images?.length\n              ? product?.images?.map((el) => (\n                  <li style={{ display: \"inline-block\" }}>\n                    <img\n                      style={{ padding: 10 }}\n                      width={200}\n                      // src={`${api}/uploads/admin/product/${product?._id}/${el}`}\n                      alt={product?.name}\n                    />\n                  </li>\n                ))\n              : \"No Photos Added\"}\n          </ul>\n        </div>\n        <div>\n          <div>\n            <input\n              type=\"file\"\n              name=\"image\"\n              id=\"image\"\n              onChange={(e) => {\n                setImageFileName(e.target.files[0]);\n                setFile(URL.createObjectURL(e.target.files[0]));\n              }}\n            />\n\n            <img src={file} />\n          </div>\n        </div>\n      </div>\n      <br />\n      <div className={classes.child}>\n        <div>\n          <h3>Categories</h3>\n        </div>\n        <div>\n          <ul>\n            {product?.categories?.map((el) => (\n              <li>{el?.name}</li>\n            ))}\n          </ul>\n        </div>\n        <div>\n          <div>\n            <Autocomplete\n              fullWidth\n              options={categories}\n              getOptionLabel={(option) => option.name}\n              renderInput={(params) => (\n                <TextField {...params} variant=\"outlined\" />\n              )}\n              onChange={(e, data) => {\n                setCategory(data);\n                if (sCategories.includes(data._id)) {\n                  let newC = sCategories.filter((sc) => sc !== data._id);\n                  setSCategories(newC);\n                } else {\n                  setSCategories([...sCategories, data._id]);\n                }\n              }}\n            />\n          </div>\n          <div>\n            <Button\n              color=\"primary\"\n              variant=\"outlined\"\n              onClick={() =>\n                setProduct({\n                  ...product,\n                  categories: [...product.categories, category],\n                })\n              }\n            >\n              Add\n            </Button>\n          </div>\n        </div>\n      </div>\n      <br />\n      <div className={classes.child}>\n        <div>\n          <h3>In Stock:</h3>\n        </div>\n        <div>\n          <TextField\n            variant=\"outlined\"\n            type=\"number\"\n            value={product?.stock}\n            onChange={(e) =>\n              setProduct({ ...product, stock: parseInt(e.target.value) })\n            }\n          />\n        </div>\n      </div>\n      <br />\n      <div className={classes.child}>\n        <div>\n          <h3>Sizes:</h3>\n        </div>\n        <div>\n          <ul>\n            {product?.sizes?.length\n              ? product?.sizes?.map((el) => (\n                  <li>\n                    {el?.size} - {el?.price}\n                  </li>\n                ))\n              : \"No Sizes Added\"}\n          </ul>\n        </div>\n        <div>\n          <div>\n            <Autocomplete\n              fullWidth\n              options={[\"XXS\", \"XS\", \"S\", \"M\", \"L\", \"XL\", \"XXL\"]}\n              getOptionLabel={(option) => option}\n              renderInput={(params) => (\n                <TextField {...params} variant=\"outlined\" />\n              )}\n              onChange={(e, data) => {\n                setSize(data);\n              }}\n            />\n          </div>\n          <div>\n            <TextField\n              variant=\"outlined\"\n              type=\"text\"\n              label=\"Price\"\n              onChange={(e) => setSizePrice(parseInt(e.target.value))}\n              value={sizePrice}\n            />\n          </div>\n          <div>\n            <Button\n              color=\"primary\"\n              variant=\"outlined\"\n              onClick={() => {\n                setProduct({\n                  ...product,\n                  sizes: [...product.sizes, { size, price: sizePrice }],\n                });\n              }}\n            >\n              Add\n            </Button>\n          </div>\n        </div>\n      </div>\n      <br />\n      <div className={classes.child}>\n        <Button\n          fullWidth\n          color=\"primary\"\n          variant=\"outlined\"\n          onClick={() => {\n            let data = product;\n            if (data.stock > 0) {\n              data.inStock = true;\n            } else {\n              data.inStock = true;\n            }\n\n            data.categories = sCategories;\n\n            axios\n              .post(`${api}/api/product`, data, {\n                headers: {\n                  \"Content-Type\": \"application/json\",\n                  \"x-auth-token\": localStorage.token,\n                },\n              })\n              .then((res) => {\n                if (res?.data) {\n                  var formdata = new FormData();\n                  formdata.append(\"image\", imageFileName);\n                  axios\n                    .post(\n                      `${api}/api/product/upload/${res?.data?._id}`,\n                      formdata,\n                      {\n                        headers: {\n                          \"x-auth-token\": localStorage.token,\n                        },\n                      }\n                    )\n                    .then((res) => push(\"/products\"));\n                }\n              })\n              .catch((err) => console.log(err));\n          }}\n          size=\"large\"\n        >\n          Create Product\n        </Button>\n      </div>\n    </div>\n  );\n};\n\nexport default AddProduct;\n"]},"metadata":{},"sourceType":"module"}