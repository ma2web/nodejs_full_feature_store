_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[21],{"+cZo":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/product",function(){return n("yCkV")}])},xvhg:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("8rE2");function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,c=!1,r=void 0;try{for(var l,d=e[Symbol.iterator]();!(i=(l=d.next()).done)&&(n.push(l.value),!t||n.length!==t);i=!0);}catch(o){c=!0,r=o}finally{try{i||null==d.return||d.return()}finally{if(c)throw r}}return n}}(e,t)||Object(i.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},yCkV:function(e,t,n){"use strict";n.r(t);var i=n("nKUr"),c=n("xvhg"),r=n("q1tI"),l=n.n(r),d=n("20a2"),o=n("vDqi"),s=n.n(o),j=n("aFs1"),a=n("z7pX"),u=n("cpVT"),b=n("r9w1"),v=n("Z3vd"),h=n("+bXu"),O=n("13PV");function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=function(e){var t,n,c,l,o,u=e.product,x=e.setProduct,f=Object(O.a)(),g=Object(r.useState)([]),m=g[0],y=g[1],S=Object(r.useState)([]),w=S[0],k=S[1],C=Object(r.useState)(""),N=C[0],_=C[1],P=Object(r.useState)(""),z=P[0],E=P[1],L=Object(r.useState)(null),X=L[0],I=L[1],D=Object(r.useState)(""),A=D[0],T=D[1],q=Object(r.useState)(null),R=q[0],V=q[1],F=Object(d.useRouter)(),U=F.query,W=F.push;return Object(r.useEffect)((function(){s.a.get("".concat(j.a,"/api/category"),{headers:{"Content-Type":"application/json","x-auth-token":localStorage.token}}).then((function(e){return y(null===e||void 0===e?void 0:e.data)})).catch((function(e){return console.log(e)}))}),[]),Object(i.jsxs)("div",{className:f.parent,children:[Object(i.jsxs)("div",{className:f.child,children:[Object(i.jsx)("div",{children:Object(i.jsx)("h3",{children:"\u0639\u0646\u0648\u0627\u0646 \u0645\u062d\u0635\u0648\u0644"})}),Object(i.jsx)("div",{children:Object(i.jsx)(b.a,{variant:"outlined",type:"text",value:null===u||void 0===u?void 0:u.name,onChange:function(e){return x(p(p({},u),{},{name:e.target.value}))}})})]}),Object(i.jsx)("br",{}),Object(i.jsxs)("div",{className:f.child,children:[Object(i.jsx)("div",{children:Object(i.jsx)("h3",{children:"\u062a\u0648\u0636\u06cc\u062d\u0627\u062a \u0645\u062d\u0635\u0648\u0644"})}),Object(i.jsx)("div",{children:Object(i.jsx)(b.a,{variant:"outlined",type:"text",value:null===u||void 0===u?void 0:u.description,onChange:function(e){return x(p(p({},u),{},{description:e.target.value}))}})})]}),Object(i.jsx)("br",{}),Object(i.jsxs)("div",{className:f.child,children:[Object(i.jsx)("div",{children:Object(i.jsx)("h3",{children:"\u0642\u06cc\u0645\u062a"})}),Object(i.jsx)("div",{children:Object(i.jsx)(b.a,{variant:"outlined",type:"text",value:null===u||void 0===u?void 0:u.price,onChange:function(e){return x(p(p({},u),{},{price:parseInt(e.target.value)}))}})})]}),Object(i.jsx)("br",{}),Object(i.jsxs)("div",{className:f.child,children:[Object(i.jsx)("div",{children:Object(i.jsx)("h3",{children:"\u0642\u06cc\u0645\u062a \u0628\u0627 \u062a\u062e\u0641\u06cc\u0641"})}),Object(i.jsx)("div",{children:Object(i.jsx)(b.a,{variant:"outlined",type:"text",value:null===u||void 0===u?void 0:u.discount,onChange:function(e){return x(p(p({},u),{},{discount:parseInt(e.target.value)}))}})})]}),Object(i.jsx)("br",{}),Object(i.jsxs)("div",{className:f.child,children:[Object(i.jsx)("div",{children:Object(i.jsx)("h3",{children:"\u0639\u06a9\u0633 \u0647\u0627\u06cc \u0645\u062d\u0635\u0648\u0644"})}),Object(i.jsx)("div",{children:Object(i.jsx)("ul",{children:null!==u&&void 0!==u&&null!==(t=u.images)&&void 0!==t&&t.length?null===u||void 0===u||null===(n=u.images)||void 0===n?void 0:n.map((function(e){return Object(i.jsx)("li",{style:{display:"inline-block"},children:Object(i.jsx)("img",{style:{padding:10},width:200,alt:null===u||void 0===u?void 0:u.name})})})):"\u0639\u06a9\u0633\u06cc \u06cc\u0627\u0641\u062a \u0646\u0634\u062f"})}),Object(i.jsx)("div",{children:Object(i.jsxs)("div",{children:[Object(i.jsx)("input",{type:"file",name:"image",id:"image",onChange:function(e){V(e.target.files[0]),T(URL.createObjectURL(e.target.files[0]))}}),Object(i.jsx)("img",{src:A})]})})]}),Object(i.jsx)("br",{}),Object(i.jsxs)("div",{className:f.child,children:[Object(i.jsx)("div",{children:Object(i.jsx)("h3",{children:"\u062f\u0633\u062a\u0647 \u0628\u0646\u062f\u06cc \u0647\u0627"})}),Object(i.jsx)("div",{children:Object(i.jsx)("ul",{children:null===u||void 0===u||null===(c=u.categories)||void 0===c?void 0:c.map((function(e){return Object(i.jsx)("li",{children:null===e||void 0===e?void 0:e.name})}))})}),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:Object(i.jsx)(h.a,{fullWidth:!0,options:m,getOptionLabel:function(e){return e.name},renderInput:function(e){return Object(i.jsx)(b.a,p(p({},e),{},{variant:"outlined"}))},onChange:function(e,t){if(_(t),w.includes(t._id)){var n=w.filter((function(e){return e!==t._id}));k(n)}else k([].concat(Object(a.a)(w),[t._id]))}})}),Object(i.jsx)("div",{children:Object(i.jsx)(v.a,{color:"primary",variant:"outlined",onClick:function(){return x(p(p({},u),{},{categories:[].concat(Object(a.a)(u.categories),[N])}))},children:"\u0627\u0641\u0632\u0648\u062f\u0646 \u062f\u0633\u062a\u0647 \u0628\u0646\u062f\u06cc"})})]})]}),Object(i.jsx)("br",{}),Object(i.jsxs)("div",{className:f.child,children:[Object(i.jsx)("div",{children:Object(i.jsx)("h3",{children:"\u062a\u0639\u062f\u0627\u062f \u0645\u0648\u062c\u0648\u062f \u062f\u0631 \u0627\u0646\u0628\u0627\u0631"})}),Object(i.jsx)("div",{children:Object(i.jsx)(b.a,{variant:"outlined",type:"number",value:null===u||void 0===u?void 0:u.stock,onChange:function(e){return x(p(p({},u),{},{stock:parseInt(e.target.value)}))}})})]}),Object(i.jsx)("br",{}),Object(i.jsxs)("div",{className:f.child,children:[Object(i.jsx)("div",{children:Object(i.jsx)("h3",{children:"\u0633\u0627\u06cc\u0632 \u0647\u0627\u06cc \u0645\u0648\u062c\u0648\u062f"})}),Object(i.jsx)("div",{children:Object(i.jsx)("ul",{children:null!==u&&void 0!==u&&null!==(l=u.sizes)&&void 0!==l&&l.length?null===u||void 0===u||null===(o=u.sizes)||void 0===o?void 0:o.map((function(e){return Object(i.jsxs)("li",{children:[null===e||void 0===e?void 0:e.size," - ",null===e||void 0===e?void 0:e.price]})})):"No Sizes Added"})}),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:Object(i.jsx)(h.a,{fullWidth:!0,options:["XXS","XS","S","M","L","XL","XXL"],getOptionLabel:function(e){return e},renderInput:function(e){return Object(i.jsx)(b.a,p(p({},e),{},{variant:"outlined"}))},onChange:function(e,t){E(t)}})}),Object(i.jsx)("div",{children:Object(i.jsx)(b.a,{variant:"outlined",type:"text",label:"Price",onChange:function(e){return I(parseInt(e.target.value))},value:X})}),Object(i.jsx)("div",{children:Object(i.jsx)(v.a,{color:"primary",variant:"outlined",onClick:function(){x(p(p({},u),{},{sizes:[].concat(Object(a.a)(u.sizes),[{size:z,price:X}])}))},children:"\u0627\u0641\u0632\u0648\u062f\u0646 \u0633\u0627\u06cc\u0632"})})]})]}),Object(i.jsx)("br",{}),Object(i.jsx)("div",{children:Object(i.jsx)(v.a,{fullWidth:!0,color:"primary",variant:"outlined",onClick:function(){var e,t=u;t.user=null===u||void 0===u||null===(e=u.user)||void 0===e?void 0:e._id,t.stock,t.inStock=!0,t.categories=w,s.a.put("".concat(j.a,"/api/product/").concat(null===U||void 0===U?void 0:U.id),t,{headers:{"Content-Type":"application/json","x-auth-token":localStorage.token}}).then((function(e){var n=new FormData;n.append("image",R),s.a.post("".concat(j.a,"/api/product/upload/").concat(null===t||void 0===t?void 0:t._id),n,{headers:{"x-auth-token":localStorage.token}}).then((function(e){return W("/products")}))})).catch((function(e){return console.log(e)}))},size:"large",children:"\u0628\u0631\u0648\u0632 \u0631\u0633\u0627\u0646\u06cc \u0645\u062d\u0635\u0648\u0644"})})]})},g=function(){var e,t,n,r,o,a,u,b=Object(d.useRouter)().query.id,h=Object(O.a)(),x=l.a.useState(null),p=Object(c.a)(x,2),g=p[0],m=p[1],y=l.a.useState(!1),S=Object(c.a)(y,2),w=S[0],k=S[1];return l.a.useEffect((function(){s.a.get("".concat(j.a,"/api/product/").concat(b),{headers:{"Content-Type":"application/json","x-auth-token":localStorage.token}}).then((function(e){return m(null===e||void 0===e?void 0:e.data)})).catch((function(e){return console.log(e)}))}),[b]),Object(i.jsx)("div",{className:h.product,children:Object(i.jsx)("div",{children:w?Object(i.jsx)(f,{product:g,setProduct:m}):Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(v.a,{color:"primary",onClick:function(){return k((function(e){return!e}))},variant:"outlined",children:"\u0648\u06cc\u0631\u0627\u06cc\u0634 \u0645\u062d\u0635\u0648\u0644"}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)("h1",{children:null===g||void 0===g?void 0:g.name}),Object(i.jsx)("br",{}),Object(i.jsxs)("div",{children:[Object(i.jsx)("h3",{children:"\u0642\u06cc\u0645\u062a"}),Object(i.jsx)("ul",{children:Object(i.jsx)("li",{children:null===g||void 0===g?void 0:g.price})})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("h3",{children:"\u0642\u06cc\u0645\u062a \u0628\u0627 \u062a\u062e\u0641\u06cc\u0641"}),Object(i.jsx)("ul",{children:Object(i.jsx)("li",{children:null===g||void 0===g?void 0:g.discount})})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("h3",{children:"\u0639\u06a9\u0633 \u0647\u0627\u06cc \u0645\u062d\u0635\u0648\u0644"}),Object(i.jsx)("ul",{children:null!==g&&void 0!==g&&null!==(e=g.images)&&void 0!==e&&e.length?null===g||void 0===g||null===(t=g.images)||void 0===t?void 0:t.map((function(e){return Object(i.jsx)("li",{style:{display:"inline-block"},children:Object(i.jsx)("img",{width:200,style:{padding:10},src:"".concat(j.a,"/uploads/admin/product/").concat(b,"/").concat(e),alt:null===g||void 0===g?void 0:g.name})})})):"No Photos Added"})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("h3",{children:"\u062f\u0633\u062a\u0647 \u0628\u0646\u062f\u06cc"}),Object(i.jsx)("ul",{children:null===g||void 0===g||null===(n=g.categories)||void 0===n?void 0:n.map((function(e){return Object(i.jsx)("li",{children:null===e||void 0===e?void 0:e.name})}))})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("h3",{children:"\u062a\u0639\u062f\u0627\u062f \u0645\u0648\u062c\u0648\u062f \u062f\u0631 \u0627\u0646\u0628\u0627\u0631"}),Object(i.jsx)("ul",{children:Object(i.jsx)("li",{children:null===g||void 0===g?void 0:g.stock})})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("h3",{children:"\u0633\u0627\u06cc\u0632\u0647\u0627\u06cc \u0645\u0648\u062c\u0648\u062f"}),Object(i.jsx)("ul",{children:null!==g&&void 0!==g&&null!==(r=g.sizes)&&void 0!==r&&r.length?null===g||void 0===g||null===(o=g.sizes)||void 0===o?void 0:o.map((function(e){return Object(i.jsxs)("li",{children:[null===e||void 0===e?void 0:e.size," - ",null===e||void 0===e?void 0:e.price]})})):"No Sizes Added"})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("h3",{children:"\u062a\u0639\u062f\u0627\u062f \u062f\u06cc\u062f\u06af\u0627\u0647 \u0647\u0627"}),Object(i.jsx)("ul",{children:Object(i.jsx)("li",{children:null!==g&&void 0!==g&&null!==(a=g.comments)&&void 0!==a&&a.length?null===g||void 0===g||null===(u=g.comments)||void 0===u?void 0:u.map((function(e){return null===e||void 0===e?void 0:e.size})):"\u0628\u062f\u0648\u0646 \u062f\u06cc\u062f\u06af\u0627\u0647"})})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("h3",{children:"\u062a\u0627\u0631\u06cc\u062e \u0628\u0627\u0631\u06af\u0632\u0627\u0631\u06cc"}),Object(i.jsx)("ul",{children:new Date(null===g||void 0===g?void 0:g.createdAt).toLocaleString()})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("h3",{children:"\u062a\u0627\u0631\u06cc\u062e \u0622\u062e\u0631\u06cc\u0646 \u0628\u0631\u0648\u0632\u0631\u0633\u0627\u0646\u06cc"}),Object(i.jsx)("ul",{children:new Date(null===g||void 0===g?void 0:g.updatedAt).toLocaleString()})]})]})})})},m=function(){return Object(i.jsx)(g,{})};m.Layout=!0;t.default=m}},[["+cZo",0,1,2,5,4,3,7,12]]]);