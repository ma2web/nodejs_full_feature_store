{"ast":null,"code":"/* eslint-disable no-console */\nimport chalk from 'chalk';\n\nconst ApolloLinkLogger = (operation, forward) => {\n  return forward(operation).map(result => {\n    if (false) {\n      return result;\n    }\n\n    try {\n      const context = operation.getContext();\n      console.log(chalk.keyword('orange')(`[APOLLO_CLIENT]`) + `[${operation.operationName}]` + chalk.greenBright(` ${JSON.stringify({\n        headers: context === null || context === void 0 ? void 0 : context.headers,\n        variables: operation.variables\n      })}`));\n    } catch (error) {\n      console.log(chalk.bgRed('[ERROR]') + ' ' + error.message);\n    }\n\n    return result;\n  });\n};\n\nexport { ApolloLinkLogger };","map":{"version":3,"sources":["/home/mohammad/projects/dorreh/market multi/client/src/core/apollo/logger.ts"],"names":["chalk","ApolloLinkLogger","operation","forward","map","result","context","getContext","console","log","keyword","operationName","greenBright","JSON","stringify","headers","variables","error","bgRed","message"],"mappings":"AAAA;AAGA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,gBAAgB,GAAG,CAACC,SAAD,EAAuBC,OAAvB,KAAmC;AAC1D,SAAOA,OAAO,CAACD,SAAD,CAAP,CAAmBE,GAAnB,CAAwBC,MAAD,IAAyB;AACrD,eAAmC;AACjC,aAAOA,MAAP;AACD;;AAED,QAAI;AACF,YAAMC,OAAO,GAAGJ,SAAS,CAACK,UAAV,EAAhB;AACAC,MAAAA,OAAO,CAACC,GAAR,CACET,KAAK,CAACU,OAAN,CAAc,QAAd,EAAyB,iBAAzB,IACG,IAAGR,SAAS,CAACS,aAAc,GAD9B,GAEEX,KAAK,CAACY,WAAN,CACG,IAAGC,IAAI,CAACC,SAAL,CAAe;AACjBC,QAAAA,OAAO,EAAET,OAAF,aAAEA,OAAF,uBAAEA,OAAO,CAAES,OADD;AAEjBC,QAAAA,SAAS,EAAEd,SAAS,CAACc;AAFJ,OAAf,CAGD,EAJL,CAHJ;AAUD,KAZD,CAYE,OAAOC,KAAP,EAAc;AACdT,MAAAA,OAAO,CAACC,GAAR,CAAYT,KAAK,CAACkB,KAAN,CAAY,SAAZ,IAAyB,GAAzB,GAA+BD,KAAK,CAACE,OAAjD;AACD;;AAED,WAAOd,MAAP;AACD,GAtBM,CAAP;AAuBD,CAxBD;;AA0BA,SAASJ,gBAAT","sourcesContent":["/* eslint-disable no-console */\n\nimport { Operation, QueryResult } from '@apollo/client'\nimport chalk from 'chalk'\n\nconst ApolloLinkLogger = (operation: Operation, forward) => {\n  return forward(operation).map((result: QueryResult) => {\n    if (typeof window !== 'undefined') {\n      return result\n    }\n\n    try {\n      const context = operation.getContext()\n      console.log(\n        chalk.keyword('orange')(`[APOLLO_CLIENT]`) +\n          `[${operation.operationName}]` +\n          chalk.greenBright(\n            ` ${JSON.stringify({\n              headers: context?.headers,\n              variables: operation.variables,\n            })}`,\n          ),\n      )\n    } catch (error) {\n      console.log(chalk.bgRed('[ERROR]') + ' ' + error.message)\n    }\n\n    return result\n  })\n}\n\nexport { ApolloLinkLogger }\n"]},"metadata":{},"sourceType":"module"}