{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport _defineProperty from \"/home/mohammad/projects/dorreh/market multi/client/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/mohammad/projects/dorreh/market multi/client/src/layout/CI/LanguageSelector/LanguageSelector.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useEffect, useState } from \"react\";\nimport { useRouter } from \"next/router\";\nimport { IconButton, TextField } from \"@material-ui/core\"; // import { SurButton, SurIconButton, SurPopOver } from '@sur-ui/core'\n\nimport useStyle from \"./LanguageSelector.styles\";\nimport { useGetLocalesQuery } from \"providers/LanguageProvider/gql/query.generated\";\nimport { useChangeDirection } from \"theme/GolThemeProvider\";\nimport { Autocomplete } from \"@material-ui/lab\";\nimport { ReactComponent as FA } from \"assets/images/icons/Flag/FA.svg\";\nimport { ReactComponent as EN } from \"assets/images/icons/Flag/EN.svg\";\nexport var LanguageSelector = function LanguageSelector() {\n  _s();\n\n  var classes = useStyle();\n\n  var _useState = useState(null),\n      anchorEl = _useState[0],\n      setAnchorEl = _useState[1];\n\n  var _useRouter = useRouter(),\n      locale = _useRouter.locale,\n      asPath = _useRouter.asPath,\n      push = _useRouter.push;\n\n  var setDirection = useChangeDirection(); // const context = useContext(Context)\n\n  var _useGetLocalesQuery = useGetLocalesQuery({\n    variables: {\n      slug: locale\n    }\n  }),\n      data = _useGetLocalesQuery.data,\n      loading = _useGetLocalesQuery.loading;\n\n  var _useState2 = useState(locale === \"en-US\" ? /*#__PURE__*/_jsxDEV(EN, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 57\n  }, _this) : /*#__PURE__*/_jsxDEV(FA, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 66\n  }, _this)),\n      icon = _useState2[0],\n      setIcon = _useState2[1];\n\n  var _useState3 = useState(locale === \"en-US\" ? \"EN-English\" : \"FA-Persian\"),\n      title = _useState3[0],\n      setTitle = _useState3[1];\n\n  useEffect(function () {\n    if (locale === \"en-US\") {\n      setDirection(\"ltr\");\n    } else {\n      setDirection(\"rtl\");\n    }\n  }, [locale]);\n  var options = locale === \"en-US\" ? [{\n    title: \"FA-Persian\",\n    icon: /*#__PURE__*/_jsxDEV(FA, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 39\n    }, _this),\n    value: \"rtl\"\n  }] : [{\n    title: \"EN-English\",\n    icon: /*#__PURE__*/_jsxDEV(EN, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 39\n    }, _this),\n    value: \"ltr\"\n  }];\n\n  var handleClick = function handleClick(item) {\n    if (item === \"fa-IR\") {\n      setDirection(\"rtl\");\n    } else {\n      setDirection(\"ltr\");\n    }\n\n    push(asPath, undefined, {\n      locale: item,\n      shallow: false\n    });\n    setAnchorEl(null);\n  };\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      \"aria-hidden\": true,\n      style: {\n        width: 46,\n        visibility: \"hidden\"\n      },\n      children: \"loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, _this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.root,\n    children: /*#__PURE__*/_jsxDEV(Autocomplete, {\n      options: options,\n      getOptionLabel: function getOptionLabel(option) {\n        return option.title;\n      },\n      getOptionSelected: function getOptionSelected(option, value) {\n        return option.value === value.value;\n      },\n      disableClearable: true,\n      renderInput: function renderInput(params) {\n        return /*#__PURE__*/_jsxDEV(TextField, _objectSpread(_objectSpread({}, params), {}, {\n          label: \"\",\n          variant: \"outlined\",\n          InputProps: _objectSpread(_objectSpread({}, params.InputProps), {}, {\n            startAdornment: /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: \"flex\",\n                alignItems: \"center\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  margin: \"0 3px\"\n                },\n                children: icon\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 19\n              }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 19\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 17\n            }, _this)\n          })\n        }), void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, _this);\n      },\n      renderOption: function renderOption(option) {\n        return /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(IconButton, {\n            color: \"primary\",\n            children: option.icon\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 15\n          }, _this), option.title]\n        }, void 0, true);\n      },\n      onChange: function onChange(e, data) {\n        // console.log(data);\n        if (data !== null) {\n          setIcon(data.icon);\n          setTitle(data.title);\n          var lang = data.title === \"FA-Persian\" ? \"fa-IR\" : \"en-US\";\n          handleClick(lang);\n        } else {\n          setIcon(null);\n          setTitle(null);\n          handleClick(null);\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(LanguageSelector, \"5SBb9SyJ2suk57FUTzwY/0ifMJw=\", false, function () {\n  return [useStyle, useRouter, useChangeDirection, useGetLocalesQuery];\n});\n\n_c = LanguageSelector;\nLanguageSelector.displayName = \"LanguageSelector\";\nexport default LanguageSelector;\n\nvar _c;\n\n$RefreshReg$(_c, \"LanguageSelector\");","map":{"version":3,"sources":["/home/mohammad/projects/dorreh/market multi/client/src/layout/CI/LanguageSelector/LanguageSelector.tsx"],"names":["React","useEffect","useState","useRouter","IconButton","TextField","useStyle","useGetLocalesQuery","useChangeDirection","Autocomplete","ReactComponent","FA","EN","LanguageSelector","classes","anchorEl","setAnchorEl","locale","asPath","push","setDirection","variables","slug","data","loading","icon","setIcon","title","setTitle","options","value","handleClick","item","undefined","shallow","width","visibility","root","option","params","InputProps","startAdornment","display","alignItems","margin","e","lang","displayName"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Image from \"next/image\";\nimport { useRouter } from \"next/router\";\nimport { IconButton, TextField, Typography } from \"@material-ui/core\";\n// import { SurButton, SurIconButton, SurPopOver } from '@sur-ui/core'\nimport { path } from \"ramda\";\nimport useStyle from \"./LanguageSelector.styles\";\nimport { useGetLocalesQuery } from \"providers/LanguageProvider/gql/query.generated\";\nimport { useChangeDirection } from \"theme/GolThemeProvider\";\nimport { Autocomplete } from \"@material-ui/lab\";\nimport { ReactComponent as FA } from \"assets/images/icons/Flag/FA.svg\";\nimport { ReactComponent as EN } from \"assets/images/icons/Flag/EN.svg\";\n\nexport const LanguageSelector: React.FC = () => {\n  const classes = useStyle();\n  const [anchorEl, setAnchorEl] = useState<HTMLButtonElement | null>(null);\n  const { locale, asPath, push } = useRouter();\n\n  const setDirection = useChangeDirection();\n  // const context = useContext(Context)\n\n  const { data, loading } = useGetLocalesQuery({ variables: { slug: locale } });\n  const [icon, setIcon] = useState(locale === \"en-US\" ? <EN /> : <FA />);\n  const [title, setTitle] = useState(\n    locale === \"en-US\" ? \"EN-English\" : \"FA-Persian\"\n  );\n\n  useEffect(() => {\n    if (locale === \"en-US\") {\n      setDirection(\"ltr\");\n    } else {\n      setDirection(\"rtl\");\n    }\n  }, [locale]);\n\n  const options =\n    locale === \"en-US\"\n      ? [{ title: \"FA-Persian\", icon: <FA />, value: \"rtl\" }]\n      : [{ title: \"EN-English\", icon: <EN />, value: \"ltr\" }];\n\n  const handleClick = (item: string) => {\n    if (item === \"fa-IR\") {\n      setDirection(\"rtl\");\n    } else {\n      setDirection(\"ltr\");\n    }\n\n    push(asPath, undefined, { locale: item, shallow: false });\n    setAnchorEl(null);\n  };\n\n  if (loading) {\n    return (\n      <div aria-hidden style={{ width: 46, visibility: \"hidden\" }}>\n        loading...\n      </div>\n    );\n  }\n\n  return (\n    <div className={classes.root}>\n      <Autocomplete\n        options={options}\n        getOptionLabel={(option) => option.title}\n        getOptionSelected={(option, value) => option.value === value.value}\n        disableClearable\n        renderInput={(params) => (\n          <TextField\n            {...params}\n            label=\"\"\n            variant=\"outlined\"\n            InputProps={{\n              ...params.InputProps,\n              startAdornment: (\n                <div style={{ display: \"flex\", alignItems: \"center\" }}>\n                  <div style={{ margin: \"0 3px\" }}>{icon}</div>\n                  <div>{title}</div>\n                </div>\n              ),\n            }}\n          />\n        )}\n        renderOption={(option) => {\n          return (\n            <>\n              <IconButton color=\"primary\">{option.icon}</IconButton>\n              {option.title}\n            </>\n          );\n        }}\n        onChange={(e, data: any) => {\n          // console.log(data);\n          if (data !== null) {\n            setIcon(data.icon);\n            setTitle(data.title);\n\n            let lang = data.title === \"FA-Persian\" ? \"fa-IR\" : \"en-US\";\n            handleClick(lang);\n          } else {\n            setIcon(null);\n            setTitle(null);\n\n            handleClick(null);\n          }\n        }}\n      />\n    </div>\n  );\n};\n\nLanguageSelector.displayName = \"LanguageSelector\";\nexport default LanguageSelector;\n"]},"metadata":{},"sourceType":"module"}