{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _defineProperty from \"/home/mohammad/projects/dorreh/market multi/client/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nvar _jsxFileName = \"/home/mohammad/projects/dorreh/market multi/client/src/domains/Orders/components/ChangeStatus.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useEffect, useState } from \"react\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport axios from \"axios\";\nimport { api } from \"domains/api\";\n\nvar ChangeStatus = function ChangeStatus(_ref) {\n  _s();\n\n  var status = _ref.status,\n      setOrder = _ref.setOrder,\n      order = _ref.order,\n      setOrders = _ref.setOrders;\n\n  var _useState = useState(null),\n      value = _useState[0],\n      setValue = _useState[1]; // pending proccessing shipped delivered cancelled\n\n\n  useEffect(function () {\n    return setValue(status);\n  }, [status]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      width: 200\n    },\n    children: /*#__PURE__*/_jsxDEV(FormControl, {\n      children: /*#__PURE__*/_jsxDEV(Select, {\n        labelId: \"demo-simple-select-label\",\n        id: \"demo-simple-select\",\n        value: value,\n        onChange: function onChange(e) {\n          setValue(e.target.value);\n          setOrder(_objectSpread(_objectSpread({}, order), {}, {\n            status: e.target.value\n          }));\n          var data = order;\n          data.status = e.target.value;\n          axios.put(\"\".concat(api, \"/api/order/\").concat(order === null || order === void 0 ? void 0 : order._id), {\n            status: e.target.value\n          }, {\n            headers: {\n              \"x-auth-token\": localStorage.token\n            }\n          }).then(function (res) {\n            if ((res === null || res === void 0 ? void 0 : res.status) === 200) {\n              axios.get(\"\".concat(api, \"/api/order\"), {\n                headers: {\n                  \"x-auth-token\": localStorage.token\n                }\n              }).then(function (res) {\n                return setOrders(res === null || res === void 0 ? void 0 : res.data);\n              })[\"catch\"](function (err) {\n                return console.log(err);\n              });\n            }\n          });\n        },\n        variant: \"outlined\",\n        children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n          value: \"pending\",\n          children: \"pending\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(MenuItem, {\n          value: \"proccessing\",\n          children: \"proccessing\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(MenuItem, {\n          value: \"shipped\",\n          children: \"shipped\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(MenuItem, {\n          value: \"delivered\",\n          children: \"delivered\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(MenuItem, {\n          value: \"cancelled\",\n          children: \"cancelled\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 7\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 16,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(ChangeStatus, \"QNA6AqGJKsyY0NGOv8Nup0fReMk=\");\n\n_c = ChangeStatus;\nexport default ChangeStatus;\n\nvar _c;\n\n$RefreshReg$(_c, \"ChangeStatus\");","map":{"version":3,"sources":["/home/mohammad/projects/dorreh/market multi/client/src/domains/Orders/components/ChangeStatus.tsx"],"names":["React","useEffect","useState","MenuItem","FormControl","Select","axios","api","ChangeStatus","status","setOrder","order","setOrders","value","setValue","width","e","target","data","put","_id","headers","localStorage","token","then","res","get","err","console","log"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport axios from \"axios\";\nimport { api } from \"domains/api\";\n\nconst ChangeStatus = ({ status, setOrder, order, setOrders }) => {\n  const [value, setValue] = useState(null);\n  // pending proccessing shipped delivered cancelled\n\n  useEffect(() => setValue(status), [status]);\n  return (\n    <div style={{ width: 200 }}>\n      <FormControl>\n        <Select\n          labelId=\"demo-simple-select-label\"\n          id=\"demo-simple-select\"\n          value={value}\n          onChange={(e) => {\n            setValue(e.target.value);\n            setOrder({\n              ...order,\n              status: e.target.value,\n            });\n            let data = order;\n\n            data.status = e.target.value;\n\n            axios\n              .put(\n                `${api}/api/order/${order?._id}`,\n                { status: e.target.value },\n                {\n                  headers: {\n                    \"x-auth-token\": localStorage.token,\n                  },\n                }\n              )\n              .then((res) => {\n                if (res?.status === 200) {\n                  axios\n                    .get(`${api}/api/order`, {\n                      headers: {\n                        \"x-auth-token\": localStorage.token,\n                      },\n                    })\n                    .then((res) => setOrders(res?.data))\n                    .catch((err) => console.log(err));\n                }\n              });\n          }}\n          variant=\"outlined\"\n        >\n          <MenuItem value=\"pending\">pending</MenuItem>\n          <MenuItem value=\"proccessing\">proccessing</MenuItem>\n          <MenuItem value=\"shipped\">shipped</MenuItem>\n          <MenuItem value=\"delivered\">delivered</MenuItem>\n          <MenuItem value=\"cancelled\">cancelled</MenuItem>\n        </Select>\n      </FormControl>\n    </div>\n  );\n};\n\nexport default ChangeStatus;\n"]},"metadata":{},"sourceType":"module"}